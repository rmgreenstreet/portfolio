


<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title><%= title %></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="icon" href="/img/favicon.png" type="image/x-icon/">
		<!-- bootstrap styles and scripts -->
        <link rel="stylesheet" href="/stylesheets/style.css">
        <link rel="stylesheet" href="/stylesheets/bootstrap.min.css">
		<!-- google fonts Latio import -->
		<link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
		<!-- FontAwesome styles and scripts -->
		<!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> -->
		<script src="https://kit.fontawesome.com/75e02839f8.js" crossorigin="anonymous"></script>
		<!-- local styles -->
        <link rel="stylesheet" href="/stylesheets/style.css">
		<!-- modernizr scripts -->
		<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js" integrity="sha256-0rguYS0qgS6L4qVzANq4kjxPLtvnp5nn2nB5G1lWRv4=" crossorigin="anonymous"></script> -->
		<!-- mapbox styles and scripts -->
		<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
		<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.6.1/mapbox-gl.js'></script>
		<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.6.1/mapbox-gl.css' rel='stylesheet' />
		<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.4.2/mapbox-gl-geocoder.min.js"></script>
		<link
		rel="stylesheet"
		href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.4.2/mapbox-gl-geocoder.css"
		type="text/css"
		/>
		<!-- starability raating css -->
		<link rel="stylesheet" type="text/css" href="/css/starability-basic.min.css"/>
		<!-- dynamic styles -->
		<style>
			#navbar {
				background-color:<%= typeof colorPalette !== 'undefined' ? colorPalette[1] : ''%>; 
				color:<%= typeof colorPalette !== 'undefined' ? colorPalette[4] : ''%>;
			}
			 #navbar a {
				color:<%= typeof colorPalette !== 'undefined' ? colorPalette[4] : ''%>;
			 }
		</style>
    </head>
    <body>
		
		<nav class="navbar navbar-expand-lg <%= typeof colorPalette === 'undefined' ? 'navbar-dark bg-dark' : '' %>" id="navbar"  style="">
		  <a class="navbar-brand" href="/">SurfShop</a>
		  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		  </button>
		  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
			<div class="navbar-nav ml-auto">
			  <a class="nav-item nav-link <%= typeof page !== 'undefined' && page === 'all_posts' ? 'active' : '' %>" href="/posts">Posts<span class="sr-only">(current)</span></a>
				<% if(!currentUser){ %>
					<a class="nav-item nav-link <%= typeof page !== 'undefined' && page === 'login' ? 'active' : '' %>" href="/login" id="login_button">Log In</a>
					<a class="nav-item nav-link <%= typeof page !== 'undefined' && page === 'register' ? 'active' : '' %>" href="/register" id="signup_button">Sign Up</a>
				<% } else { %>
					<a class="nav-item nav-link <%= typeof page !== 'undefined' && page === 'profile' ? 'active' : '' %>" href="/profile">Signed In As <%= currentUser.username %></a>
					<a class="nav-item nav-link" href="/logout" id="logout">Log Out</a>
					<a class="nav-item nav-link <%= typeof page !== 'undefined' && page === 'new_post' ? 'active' : '' %>" href="/posts/new" id="new_post">New Post</a>
				<% }; %>
			<form name="searchCampgrounds" action="/campgrounds" method="get" class="form-inline">
				<div class="input-group">
					<input class="form-control mr-sm-2" type="search" placeholder="Search Campgrounds" aria-label="Search" name="searchTerm">
					<button class="btn btn-outline-light my-2 my-sm-0 input-group-append" type="submit">Search</button>
				</div>
			</form>
			</div>
		  </div>
		</nav>

		<div class="container mt-2">
			<% if(success && success.length) { %>
				<div class="alert alert-success">
					<%= success %>
				</div>
			<% } %>
			<% if(error && error.length) { %>
				<div class="alert alert-danger">
					<%= error %>
				</div>
			<% } %>
		</div>
		
		
		
                
        <%- body -%>

        <footer class="container mt-4">
			<p id="copyright">
				Copyright 2019 Robert Greenstreet
			</p>
            <script src="/javascripts/jquery-3.4.1.min.js" async defer></script>
            <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
            <script src="/javascripts/script.js" async defer></script>
			<% if (page === 'view_post') { %> 
				<script src="/js/post-show.js"></script>
			<% } %>
			<% if (page === 'all_posts') { %> 
				<script src="/js/post-index.js"></script>
			<% } %>
        </footer>
    </body>
</html>